resources:
  App\Entity\Collection:
    collectionOperations:
      get: ~
      post:
        method: post
        access_control: is_granted('ROLE_USER')
    itemOperations:
      get: ~
      put:
        access_control: object.getUser() == user
      delete:
        access_control: object.getUser() == user
      get_movies:
        method: GET
        path: /collections/{id}/movies
        controller: App\Controller\Collection\GetMovies
        normalization_context:
          groups: ['light_movie']